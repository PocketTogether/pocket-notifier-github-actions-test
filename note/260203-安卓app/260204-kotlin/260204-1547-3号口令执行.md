ä¸‹é¢æ˜¯ **æŒ‰ 3 å·å£ä»¤æ‰§è¡Œ** åç”Ÿæˆçš„å†…å®¹ã€‚  
å®Œå…¨ç¬¦åˆä½ çš„è¦æ±‚ï¼š**å•é¡µé¢ã€ViewBindingã€çº¯ UIã€æ ¹æ®çŠ¶æ€åˆ‡æ¢å›¾ç‰‡ã€ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘**ã€‚

æ–‡ä»¶è·¯å¾„å‡åŸºäºï¼š

```
app/src/main/java/com/pocket/notifier/
```

---

# ğŸ“„ `MainActivity.kt`

```kotlin
package com.pocket.notifier.ui

/**
 * MainActivity â€” å•é¡µé¢ UI
 *
 * ä»…è´Ÿè´£ï¼š
 * - è¯»å–ä¸Šæ¬¡è¯·æ±‚çŠ¶æ€ï¼ˆç”± StatusStore æä¾›ï¼‰
 * - æ ¹æ®çŠ¶æ€æ˜¾ç¤º success / failure å›¾ç‰‡
 *
 * ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼ˆè½®è¯¢ã€ç½‘ç»œã€é€šçŸ¥ç­‰ï¼‰
 */

import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.pocket.notifier.databinding.ActivityMainBinding
import com.pocket.notifier.store.StatusStore
import com.pocket.notifier.R

class MainActivity : AppCompatActivity() {

    private lateinit var binding: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)

        updateImage()
    }

    /** æ ¹æ®ä¸Šæ¬¡è¯·æ±‚çŠ¶æ€åˆ‡æ¢å›¾ç‰‡ */
    private fun updateImage() {
        val lastSuccess = StatusStore.getLastStatus(this)

        val imageRes = if (lastSuccess) {
            R.drawable.success
        } else {
            R.drawable.failure
        }

        binding.statusImage.setImageResource(imageRes)
    }
}
```

---

# ğŸ“„ `activity_main.xml`

è·¯å¾„ï¼š

```
app/src/main/res/layout/activity_main.xml
```

```xml
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- å±…ä¸­æ˜¾ç¤ºçŠ¶æ€å›¾ç‰‡ -->
    <ImageView
        android:id="@+id/statusImage"
        android:layout_width="120dp"
        android:layout_height="120dp"
        android:layout_gravity="center"
        android:contentDescription="status image" />

</FrameLayout>
```

---

# ğŸ“ `res/drawable/success.png`

> **å ä½è¯´æ˜ï¼ˆä¸ç”ŸæˆçœŸå®å›¾ç‰‡ï¼‰**

```
æ­¤æ–‡ä»¶ä¸ºå ä½å›¾æ ‡ success.png
å»ºè®®æ”¾ç½®ä¸€ä¸ªç»¿è‰²å¯¹å‹¾æˆ–æˆåŠŸå›¾æ ‡
```

---

# ğŸ“ `res/drawable/failure.png`

> **å ä½è¯´æ˜ï¼ˆä¸ç”ŸæˆçœŸå®å›¾ç‰‡ï¼‰**

```
æ­¤æ–‡ä»¶ä¸ºå ä½å›¾æ ‡ failure.png
å»ºè®®æ”¾ç½®ä¸€ä¸ªçº¢è‰²å‰å·æˆ–å¤±è´¥å›¾æ ‡
```

---

# âœ… è¯´æ˜

- Activity ä½¿ç”¨ **ViewBinding**ï¼ˆ`ActivityMainBinding`ï¼‰
- UI é€»è¾‘æç®€ï¼šåªæ ¹æ® `StatusStore` çš„å¸ƒå°”å€¼åˆ‡æ¢å›¾ç‰‡
- ä¸åŒ…å«ä»»ä½•ç½‘ç»œã€è½®è¯¢ã€é€šçŸ¥é€»è¾‘
- å›¾ç‰‡èµ„æºä»…ä¸ºå ä½è¯´æ˜ï¼Œæ–¹ä¾¿ä½ åç»­æ›¿æ¢
- å®Œå…¨ç¬¦åˆä½ â€œæœºåˆ¶åŒ–ã€å¯ forkã€å¯ç»´æŠ¤â€çš„å·¥ç¨‹é£æ ¼

---

å¦‚æœä½ å‡†å¤‡ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œå¯ä»¥ç›´æ¥è¯´ï¼š

> æŒ‰ 4 å·å£ä»¤æ‰§è¡Œ

æˆ‘å°†ä¸ºä½ ç”Ÿæˆ **å®Œæ•´çš„ ForegroundServiceï¼ˆOkHttp è½®è¯¢æœåŠ¡ï¼‰**ã€‚