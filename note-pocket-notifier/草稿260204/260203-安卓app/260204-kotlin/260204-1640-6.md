下面是 **按 6 号口令执行** 后生成的内容。  
这是一个 **极简、集中、可复用、可 fork 的 SharedPreferences 状态存储模块**，与你的工程风格完全一致：**显式、机制化、无副作用、无隐式逻辑**。

文件路径：

```
app/src/main/java/com/pocket/notifier/store/StatusStore.kt
```

---

# 📄 `StatusStore.kt`

```kotlin
package com.pocket.notifier.store

/**
 * StatusStore — 轮询状态存储
 *
 * 功能：
 * - 记录上次请求是否成功（true/false）
 * - 提供 getLastStatus() / setLastStatus()
 * - 使用 SharedPreferences（轻量、稳定、可持久化）
 *
 * 默认值：false（表示失败）
 */

import android.content.Context

object StatusStore {

    private const val PREF_NAME = "notifier_status"
    private const val KEY_LAST_SUCCESS = "last_success"

    /** 获取上次请求是否成功 */
    fun getLastStatus(context: Context): Boolean {
        val prefs = context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE)
        return prefs.getBoolean(KEY_LAST_SUCCESS, false)
    }

    /** 设置上次请求是否成功 */
    fun setLastStatus(context: Context, success: Boolean) {
        val prefs = context.getSharedPreferences(PREF_NAME, Context.MODE_PRIVATE)
        prefs.edit()
            .putBoolean(KEY_LAST_SUCCESS, success)
            .apply()
    }
}
```

---

# ✅ 说明

### ✔ 使用 `Context.getSharedPreferences`

轻量、稳定、适合简单状态存储。

### ✔ 提供两个方法

- `getLastStatus()` → 读取成功/失败
- `setLastStatus()` → 写入成功/失败

### ✔ 默认值为 `false`

如果没有记录，UI 会显示失败图标（更安全）。

### ✔ 与 MainActivity、PollingService 完全兼容

- MainActivity 用它来切换图片
- PollingService 用它来写入状态

---

如果你准备继续下一步，可以直接说：

> 按 7 号口令执行

我将为你生成 **完整 Gradle 配置（最小 APK + R8 + 最小依赖）**。